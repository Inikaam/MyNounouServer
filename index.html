<html lang="fr">
<head>
<title>Test</title>
</head>
<body>
	<button id="login">Login</button>
	<button id="add">POST</button>
	<button id="upd">PUT</button>
	<button id="del">DELETE</button>
	<script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
	<script>
		var token = '';
		$.ajax({
			method : "GET",
			url : "/api/parents/?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJfaWQiOiI1NjI2NjU5YzU2ZDkwZWM4Y2ZlZjM3OTgiLCJsYXN0bmFtZSI6Ik1vdXNzZXQiLCJmaXJzdG5hbWUiOiJNeXJpYW0iLCJnZW5kZXIiOiJGIiwidHlwZSI6Im5hbm55IiwiYWdlIjo2MCwidGVsIjoiMDIzNDU2Nzg5MSIsImVtYWlsIjoibXlyaWFtLm1vdXNzZXRAZ21haWwuY29tIiwicHJpY2UiOjYuNSwiX192IjowLCJyZXN0cmljdGlvbnMiOlt7InJlYXNvbiI6IkNvbmfDqXMiLCJlbmQiOiIyMDE1LTEwLTIwVDE2OjIwOjI1LjgxNloiLCJzdGFydCI6IjIwMTUtMTAtMjBUMTY6MjA6MjUuODE2WiIsIl9pZCI6IjU2MjY2OWM5NDg0NzQzZDBkODM5NWMwZCJ9XSwiZGlzcG9zIjp7ImRpbSI6W10sInNhbSI6W10sInZlbiI6W10sImpldSI6W10sIm1lciI6W10sIm1hciI6W10sImx1biI6W119LCJjb21tZW50cyI6W3sidGV4dCI6IkNvbW1lbnRhaXJlIHN1cHBsw6ltZW50YWlyZSIsIm5vdGUiOjUsImRhdGUiOiIyMDE1LTEwLTIwVDE2OjAzOjU0Ljk4OFoiLCJpZF9wYXJlbnQiOiI1NjIyMTU0NjViY2QyYjNjYTQ3ZGIxYmMiLCJfaWQiOiI1NjI2NjVlYTU2ZDkwZWM4Y2ZlZjM3OWEifSx7InRleHQiOiJDb21tZW50YWlyZSBzdXBwbMOpbWVudGFpcmUiLCJub3RlIjo1LCJkYXRlIjoiMjAxNS0xMC0yMFQxNjoxNDoxNC40OTVaIiwiaWRfcGFyZW50IjoiNTYyMjE1NDY1YmNkMmIzY2E0N2RiMWJjIiwiX2lkIjoiNTYyNjY4NTY0ODQ3NDNkMGQ4Mzk1YzBhIn0seyJ0ZXh0IjoiQ29tbWVudGFpcmUgc3VwcGzDqW1lbnRhaXJlIiwibm90ZSI6NSwiZGF0ZSI6IjIwMTUtMTAtMjBUMTY6MTk6NDIuOTM2WiIsImlkX3BhcmVudCI6IjU2MjIxNTQ2NWJjZDJiM2NhNDdkYjFiYyIsIl9pZCI6IjU2MjY2OTllNDg0NzQzZDBkODM5NWMwYiJ9LHsidGV4dCI6IkNvbW1lbnRhaXJlIHN1cHBsw6ltZW50YWlyZSIsIm5vdGUiOjUsImRhdGUiOiIyMDE1LTEwLTIwVDE2OjIwOjI1LjgxNloiLCJpZF9wYXJlbnQiOiI1NjIyMTU0NjViY2QyYjNjYTQ3ZGIxYmMiLCJfaWQiOiI1NjI2NjljOTQ4NDc0M2QwZDgzOTVjMGMifV0sImRhdGVfdXBkIjoiMjAxNS0xMC0yMFQxNjowMjozNi4zMDFaIiwiZGF0ZV9hZGQiOiIyMDE1LTEwLTIwVDE2OjAyOjM2LjMwMVoifQ.eGvT3fTRJv-7_xEGXQNsEgz2uC4uSSxJZ1K27ZjSFPQ",
		}).done(function(data) {
			console.info(data);
		}).fail(function( jqXHR, textStatus ) {
			  console.info(jqXHR);
		});
		
		$('#login').click(function(){
			$.ajax({
				method: "POST",
				url: '/api/login-parent',
				data: {
					email: 'inikaam@gmail.com',
					password: 'azerty'
				}
			}).done(function(data){
				console.info(data);
				if(data.token)
					token = data.token;
			}).fail(function(jqXHR, textStatus){
				console.info(jqXHR);
			});
		});

		$('#add').click(function(){
			$.ajax({
				method : "POST",
				url : "/api/nannies",
				data: {
					email: 'test@test.com'
				}
			}).done(function(data) {
				console.info(data);
			}).fail(function( jqXHR, textStatus ) {
				  console.info(jqXHR);
			});
		});


		$('#upd').click(function(){
			$.ajax({
				method : "PUT",
				url : "/api/nannies/562a182e0dd584941f7a736d?token=" + token,
				data: {
					pic: "http://www.stockvault.net/blog/wp-content/uploads/2013/11/Portrait-8.jpg"
				}
			}).done(function(data) {
				console.info(data);
			}).fail(function( jqXHR, textStatus ) {
				  console.info(jqXHR.responseJSON);
			});
		});
		
		$('#del').click(function(){
			$.ajax({
				method : "DELETE",
				url : "/api/nannies/5626659c56d90ec8cfef3798?token=" + token,
			}).done(function(data) {
				console.info(data);
			}).fail(function( jqXHR, textStatus ) {
				  console.info(jqXHR.responseJSON);
			});
		});
	</script>
</body>
</html>
